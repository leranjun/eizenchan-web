$(".needs-validation").each((t,e)=>{const o=$(e);o.on("submit",t=>{e.checkValidity()||(t.preventDefault(),t.stopPropagation()),o.addClass("was-validated")})});for(const t of["bilibili","acfun","niconico","youtube","other"])$(`#${t}-checkbox`).on("change",function(){$(`#${t}-id`).prop("disabled",!this.checked)});$("#bilibili-checkbox").on("change",function(){$("#bilibili-datafill").prop("disabled",!this.checked)}),$("#bilibili-datafill").on("change",()=>$("#song-uploader-control, #song-update-control").toggleClass("d-none")),$("#view").on("change",function(){$("#view-input").prop("disabled",!this.checked)}),$("#song-cquote").on("change",function(){$("#song-cquote-input").prop("disabled",!this.checked)}),$("#parameter-full").on("change",()=>$("#songbox-bg-simplify, #songbox-bg-full, #songbox-style-simplify, #songbox-style-full").toggleClass("d-none"));for(const t of["lbgcolor","ltcolor","rbdcolor"])$(`#${t}`).on("change",function(){$(`#${t}-input`).prop("disabled",!this.checked)});let staffNum=1;const staffTemplate='<div class="row gx-3 align-items-center">\n            <div class="col-auto">\n                <input type="text" class="form-control mb-1 staff-pos" placeholder="职位">\n            </div>\n            <div class="col-auto">\n                <input type="text" class="form-control mb-1 staff-name" placeholder="名称">\n            </div>\n            <div class="btn-group col-auto" role="group">\n                <button type="button" class="btn btn-outline-primary staff-add">+</button>\n                <button type="button" class="btn btn-outline-primary staff-remove">-</button>\n            </div>\n        </div>';$(document).on("click",".staff-add",()=>{$("#staff-intro").append(staffTemplate),staffNum++,$(".staff-remove").prop("disabled",!1)}),$(document).on("click",".staff-remove",function(){$(this).closest(".row").remove(),staffNum--,1==staffNum&&$(".staff-remove").prop("disabled",!0)}),$("#lyrics-change").on("change",function(){$("#lyrics-trans").prop("required",this.checked).parent().toggleClass("d-none"),$("#lyrics-parameter-switch").toggleClass("d-none"),this.checked||($("#lyrics-parameter").prop("checked",!1),$("#lyricskai-parameter").addClass("d-none"))}),$("#lyrics-parameter").on("change",()=>$("#lyricskai-parameter").toggleClass("d-none"));let templateNum=1;const temTemplate='<div class="row gx-3 mb-2 align-items-center">\n            <div class="col-auto">\n                <input type="text" class="form-control template-name" placeholder="模板名">\n            </div>\n            <div class="form-check form-switch col-auto">\n                <input class="form-check-input template-collapse" type="checkbox" id="template-collapse-$count">\n                <label class="form-check-label" for="template-collapse-$count">是否折叠</label>\n            </div>\n            <div class="btn-group col-auto" role="group">\n                <button type="button" class="btn btn-outline-primary template-add">+</button>\n                <button type="button" class="btn btn-outline-primary template-remove">-</button>\n            </div>\n        </div>';$(document).on("click",".template-add",()=>{$("#template-info").append(temTemplate.replaceAll("$count",templateNum)),templateNum++,$(".template-remove").prop("disabled",!1)}),$(document).on("click",".template-remove",function(){$(this).closest(".row").remove(),templateNum--,1==templateNum&&$(".template-remove").prop("disabled",!0)});let categoryNum=1;const categoryTemplate='<div class="row gx-3 mb-2 align-items-center">\n            <div class="col-auto">\n                <input type="text" class="form-control category-name" placeholder="分类名">\n            </div>\n            <div class="btn-group col-auto" role="group">\n                <button type="button" class="btn btn-outline-primary category-add">+</button>\n                <button type="button" class="btn btn-outline-primary category-remove" disabled>-</button>\n            </div>\n        </div>';$(document).on("click",".category-add",()=>{$("#category-info").append(categoryTemplate),categoryNum++,$(".category-remove").prop("disabled",!1)}),$(document).on("click",".category-remove",function(){$(this).closest(".row").remove(),categoryNum--,1==categoryNum&&$(".category-remove").prop("disabled",!0)});
