$(".needs-validation").each((e,t)=>{const o=$(t);o.on("submit",e=>{t.checkValidity()||(e.preventDefault(),e.stopPropagation()),o.addClass("was-validated")})});for(const e of["bilibili","acfun","niconico","youtube","other"])$(`#${e}-checkbox`).on("change",t=>{$(`#${e}-id`).prop("disabled",!t.target.checked)});$("#bilibili-checkbox").on("change",e=>{$("#bilibili-datafill").prop("disabled",!e.target.checked)}),$("#bilibili-datafill").on("change",()=>$("#song-uploader-control, #song-update-control").toggleClass("d-none")),$("#view").on("change",e=>{$("#view-input").prop("disabled",!e.target.checked)}),$("#song-cquote").on("change",e=>{$("#song-cquote-input").prop("disabled",!e.target.checked)}),$("#parameter-full").on("change",()=>$("#songbox-bg-simplify, #songbox-bg-full, #songbox-style-simplify, #songbox-style-full").toggleClass("d-none"));for(const e of["lbgcolor","ltcolor","rbdcolor"])$(`#${e}`).on("change",t=>{$(`#${e}-input`).prop("disabled",!t.target.checked)});let staffNum=1;const staffTemplate='<div class="row gx-3 align-items-center">\n            <div class="col-auto">\n                <input type="text" class="form-control mb-1 staff-pos" placeholder="职位">\n            </div>\n            <div class="col-auto">\n                <input type="text" class="form-control mb-1 staff-name" placeholder="名称">\n            </div>\n            <div class="btn-group col-auto" role="group">\n                <button type="button" class="btn btn-outline-primary staff-add">+</button>\n                <button type="button" class="btn btn-outline-primary staff-remove">-</button>\n            </div>\n        </div>';$(document).on("click",".staff-add",()=>{$("#staff-intro").append(staffTemplate),staffNum++,$(".staff-remove").prop("disabled",!1)}),$(document).on("click",".staff-remove",e=>{$(e.target).closest(".row").remove(),staffNum--,$(".staff-remove").prop("disabled",1==staffNum)}),$("#lyrics-change").on("change",e=>{$("#lyrics-trans").prop("required",e.target.checked).parent().toggleClass("d-none"),$("#lyrics-parameter-switch").toggleClass("d-none"),e.target.checked||($("#lyrics-parameter").prop("checked",!1),$("#lyricskai-parameter").addClass("d-none"))}),$("#lyrics-parameter").on("change",()=>$("#lyricskai-parameter").toggleClass("d-none"));let templateNum=1;const temTemplate='<div class="row gx-3 mb-2 align-items-center">\n            <div class="col-auto">\n                <input type="text" class="form-control template-name" placeholder="模板名">\n            </div>\n            <div class="form-check form-switch col-auto">\n                <input class="form-check-input template-collapse" type="checkbox" id="template-collapse-$count">\n                <label class="form-check-label" for="template-collapse-$count">是否折叠</label>\n            </div>\n            <div class="btn-group col-auto" role="group">\n                <button type="button" class="btn btn-outline-primary template-add">+</button>\n                <button type="button" class="btn btn-outline-primary template-remove">-</button>\n            </div>\n        </div>';$(document).on("click",".template-add",()=>{$("#template-info").append(temTemplate.replaceAll("$count",templateNum)),templateNum++,$(".template-remove").prop("disabled",!1)}),$(document).on("click",".template-remove",e=>{$(e.target).closest(".row").remove(),templateNum--,$(".template-remove").prop("disabled",1==templateNum)});let categoryNum=1;const categoryTemplate='<div class="row gx-3 mb-2 align-items-center">\n            <div class="col-auto">\n                <input type="text" class="form-control category-name" placeholder="分类名">\n            </div>\n            <div class="btn-group col-auto" role="group">\n                <button type="button" class="btn btn-outline-primary category-add">+</button>\n                <button type="button" class="btn btn-outline-primary category-remove" disabled>-</button>\n            </div>\n        </div>';$(document).on("click",".category-add",()=>{$("#category-info").append(categoryTemplate),categoryNum++,$(".category-remove").prop("disabled",!1)}),$(document).on("click",".category-remove",e=>{$(e.target).closest(".row").remove(),categoryNum--,$(".category-remove").prop("disabled",1==categoryNum)});